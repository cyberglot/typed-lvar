\begin{proof}
  By induction on the derivation of $\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{M}{U}$.
\end{proof}

\begin{figure*}
  \begin{case}{\LabTirName{T-Var}}
    \begin{subcase}{$M = x$}
      \begin{mathpar}
        \inferrule*{
          \tmty{x}{T} \in \ty{\Gamma},\tmty{x}{T}
        }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{x}{T}}

        \inferrule*{
        }{\seq{\ty{\Gamma}}{\ty{\Sigma'}}{V}{T}}
      \end{mathpar}
    \end{subcase}
    \begin{subcase}{$M \neq x$}
      \begin{mathpar}
        \inferrule*{
          \tmty{y}{U} \in \ty{\Gamma},\tmty{x}{T}
        }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{y}{U}}
      \end{mathpar}
    \end{subcase}
  \end{case}
  
  \begin{case}{\LabTirName{Lam}}
    \begin{mathpar}
      \inferrule*{
        \seq{\ty{\Gamma},\tmty{x}{T},\tmty{y}{U}}{\ty{\Sigma}}{M}{U'}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{\lambda y.M}{\tyfun{U}{U'}}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{App}}
    \begin{mathpar}
      \inferrule*{
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{M}{\tyfun{U}{U'}}
        \\
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma'}}{N}{U}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}\sqcup\ty{\Sigma'}}{M\;N}{U'}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-Unit}}
    \begin{mathpar}
      \inferrule*{
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{\unit}{\tyunit}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-LetUnit}}
    \begin{mathpar}
      \inferrule*{
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{M}{\tyunit}
        \\
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{N}{U}
        \\
        \ty{\Sigma}\sqsubseteq\ty{\Sigma'}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma'}}{\letunit{M}{N}}{U}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-Pair}}
    \begin{mathpar}
      \inferrule*{
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{M}{U}
        \\
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma'}}{N}{U'}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}\sqcup\ty{\Sigma'}}{\pair{M}{N}}{\typrod{U}{U'}}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-LetPair}}
    \begin{mathpar}
      \inferrule*{
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{M}{\typrod{U}{U'}}
        \\
        \seq{\ty{\Gamma},\tmty{x}{T},\tmty{y}{U},\tmty{z}{U'}}{\ty{\Sigma'}}{N}{T'}
        \\
        \ty{\Sigma}\sqsubseteq\ty{\Sigma'}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma'}}{\letpair{x}{y}{M}{N}}{T'}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-Dom}}
    \begin{mathpar}
      \inferrule*{
        \tm{d'}\sqsubseteq\ty{d}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{d'}{\tyD{d}}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-Loc}}
    \begin{mathpar}
      \inferrule*{
        \tmty{l}{\tyL{\frz}{d}} \in \ty{\Sigma}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{l}{\tyL{\frz}{d}}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-Threshold}}
    \begin{mathpar}
      \inferrule*{
        \incomp({\tyJ})
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{\tmJ}{\tyJ}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-New}}
    \begin{mathpar}
      \inferrule*{
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{\lvarnew}{\tyL{\false}{\bot}}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-Freeze}}
    \begin{mathpar}
      \inferrule*{
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{M}{\tyL{\true}{d}}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{\lvarfreeze\;M}{\tyD{d}}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-Get}}
    \begin{mathpar}
      \inferrule*{
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{M}{\tyL{\frz}{d}}
        \\
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma'}}{N}{\tyJ}
        \\
        \tm{d'}\in\tyJ
        \\
        \tm{d'}\sqsubseteq\ty{d}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}\sqcup\ty{\Sigma'}}{\lvarget\;M\;N}{\tyD{d}}}
    \end{mathpar}
  \end{case}
  
  \begin{case}{\LabTirName{T-Put}}
    \begin{mathpar}
      \inferrule*{
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{M}{\tyL{\false}{d}}
        \\
        \seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}}{N}{\tyD{d}}
      }{\seq{\ty{\Gamma},\tmty{x}{T}}{\ty{\Sigma}\sqcup\ty{\Sigma'}}{\lvarput\;M\;N}{1}}
    \end{mathpar}
  \end{case}
\end{figure*}
