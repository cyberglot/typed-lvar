\begin{proof}
  By induction on the structure of $\tm{C}\redc\tm{C'}$.
\end{proof}
\begin{figure*}
  \centering
  \begin{case}{\LabTirName{E-Lam}}
    \begin{mathpar}
      \inferrule*{
        \inferrule*{
          \seq{\ty{\Gamma},\tmty{x}{T}}{M}{\tyfun{T}{U}}
          \\
          \seq{\ty{\Gamma'}}{V}{T}
        }{\seq{\ty{\Gamma}\sqcupG\ty{\Gamma'}}{(\lambda x.M)\;V}{U}}
        \\
        \seqS{\ty{\Gamma''}}{S}
        \\
        \ty{\Gamma''}\sqsubseteqG\ty{\Gamma}\sqcupG\ty{\Gamma'}
      }{\seqC{\ty{\Gamma}\sqcupG\ty{\Gamma'}}{\config{(\lambda x.M)\;V}{S}}{U}}
      \redc
      \inferrule*{
        \seq{\ty{\Gamma}\sqcupG\ty{\Gamma'}}{\subst{M}{V}{x}}{U}
        \\
        \seqS{\ty{\Gamma''}}{S}
        \\
        \ty{\Gamma''}\sqsubseteqG\ty{\Gamma}\sqcupG\ty{\Gamma'}
      }{\seqC{\ty{\Gamma}\sqcupG\ty{\Gamma'}}{\config{\subst{M}{V}{x}}{S}}{U}}
    \end{mathpar}
  \end{case}
  \begin{case}{\LabTirName{E-Unit}}
    \begin{mathpar}
      \inferrule*{
        \inferrule*{
          \seq{\ty{\Gamma}}{\unit}{\tyunit}
          \\
          \seq{\ty{\Gamma'}}{M}{T}
          \\
          \ty{\Gamma}\sqsubseteqG\ty{\Gamma'}
        }{\seq{\ty{\Gamma'}}{\letunit{\unit}{M}}{T}}
        \\
        \seqS{\ty{\Gamma''}}{S}
        \\
        \ty{\Gamma''}\sqsubseteqG\ty{\Gamma'}
      }{\seqC{\ty{\Gamma'}}{\config{\letunit{\unit}{M}}{S}}{T}}
      \redc
      \inferrule*{
        \seq{\ty{\Gamma'}}{M}{T}
        \\
        \seqS{\ty{\Gamma''}}{S}
        \\
        \ty{\Gamma''}\sqsubseteqG\ty{\Gamma'}
      }{\seq{\ty{\Gamma'}}{\config{M}{S}}{T}}
    \end{mathpar}
  \end{case}
  \begin{case}{\LabTirName{E-Pair}}
    \begin{mathpar}
      \inferrule*{
        \inferrule*{
          \inferrule*{
            \seq{\ty{\Gamma}}{V}{T}
            \\
            \seq{\ty{\Gamma'}}{W}{T'}
          }{\seq{\ty{\Gamma}\sqcupG\ty{\Gamma'}}{\pair{V}{W}}{\typrod{T}{T'}}}
          \\
          \seq{\ty{\Gamma''},\tmty{x}{T},\tmty{y}{T'}}{M}{U}
          \\
          \ty{\Gamma}\sqcupG\ty{\Gamma'}\sqsubseteqG\ty{\Gamma''}
        }{\seq{\ty{\Gamma''}}{\letpair{x}{y}{\pair{V}{W}}{M}}{U}}
        \\
        \seqS{\ty{\Gamma'''}}{S}
        \\
        \ty{\Gamma'''}\sqsubseteqG\ty{\Gamma''}
      }{\seq{\ty{\Gamma''}}{\config{\letpair{x}{y}{\pair{V}{W}}{M}}{S}}{U}}
      \redc
      \inferrule*{
        \inferrule*[fraction={===}]{
          \seq{\ty{\Gamma}\sqcupG\ty{\Gamma'}\sqcupG\ty{\Gamma''}}{\subst{\subst{M}{V}{x}}{W}{y}}{U}
        }{\seq{\ty{\Gamma''}}{\subst{\subst{M}{V}{x}}{W}{y}}{U}}
        \\
        \seqS{\ty{\Gamma'''}}{S}
        \\
        \ty{\Gamma'''}\sqsubseteqG\ty{\Gamma''}
      }{\seq{\ty{\Gamma''}}{\config{\subst{\subst{M}{V}{x}}{W}{y}}{S}}{U}}
    \end{mathpar}
  \end{case}
  \begin{case}{\LabTirName{E-New}}
    $\tm{l}\not\in\dom(\tm{S})$
    \todo{%
      Requires a proof of weakening for store typing.}
    \begin{mathpar}
      \inferrule*{
        \inferrule*{
        }{\seq{\ty{\Gamma'}}{\lvarnew}{\tyL{\false}{\botD}}}
        \\
        \seqS{\ty{\Gamma}}{S}
        \\
        \ty{\Gamma}\sqsubseteqG\ty{\Gamma'}
      }{\seq{\ty{\Gamma'}}{\config{\lvarnew}{S}}{\tyL{\false}{\botD}}}
      \redc
      \inferrule*{
        \inferrule*{
        }{\seq{\ty{\Gamma'},\tmty{l}{\tyL{\false}{\botD}}}{l}{\tyL{\false}{\botD}}}
        \\
        \inferrule*{
          \inferrule*{
            \seqS{\ty{\Gamma}}{S}  
          }{\seqS{\ty{\Gamma},\tmty{l}{\tyL{\false}{\botD}}}{S}}
          \\
          \inferrule*{
          }{\tmty{l}{\tyL{\false}{\botD}}\in{\ty{\Gamma},\tmty{l}{\tyL{\false}{\botD}}}}
        }{\seqS{\ty{\Gamma},\tmty{l}{\tyL{\false}{\botD}}}{\storeext{S}{l}{\st{\botD}{\false}}}}
        \\
        \ty{\Gamma}\sqsubseteqG\ty{\Gamma'}
      }{\seq%
        {\ty{\Gamma},\tmty{l}{\tyL{\false}{\botD}}}
        {\config{l}{\storeext{S}{l}{\st{\botD}{\false}}}}
        {\tyL{\false}{\botD}}}
    \end{mathpar}
  \end{case}
  \begin{case}{\LabTirName{E-Freeze}}
    $\tm{S(l)} = \tm{\st{d}{\frz}}$
    $\incomp({\tmJ})$
    $\tm{d'}\in\tmJ$
    $\tm{d'}\sqsubseteqD\tm{d}$
    \begin{mathpar}
      \tm{\config{\lvarget\;l\;\tmJ}{S}}
      \redc
      \tm{\config{d'}{S}}
    \end{mathpar}
  \end{case}
  \begin{case}{\LabTirName{E-Put}}
    $\tm{S(l)} = \tm{\st{d}{\false}}$
    $\tm{{d}\sqcupD{d'}} \neq \tm{\topD}$
    \begin{mathpar}
      \tm{\config{\lvarput\;l\;d'}{S}}
      \redc
      \tm{\config{()}{\storeupd{S}{l}{\st{d'}{\false}}}}
    \end{mathpar}
  \end{case}
  \begin{case}{\LabTirName{E-Get}}
    $\tm{S(l)} = \tm{\st{d}{\frz}}$
    \begin{mathpar}
      \tm{\config{\lvarfreeze}{S}}
      \redc
      \tm{\config{d}{\storeupd{S}{l}{\st{d}{\true}}}}
    \end{mathpar}
  \end{case}
\end{figure*}
