\documentclass[sigplan,10pt,review,anonymous]{acmart}
\settopmatter{printfolios=true,printccs=false,printacmref=false}

%% Conference information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmConference[PL'18]{ACM SIGPLAN Conference on Programming Languages}{January 01--03, 2018}{New York, NY, USA}
\acmYear{2018}
\acmISBN{} % \acmISBN{978-x-xxxx-xxxx-x/YY/MM}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}

%% Separate compilation of subfiles
\usepackage{subfiles}
\newcommand{\onlyinsubfile}[1]{#1}
\newcommand{\notinsubfile}[1]{}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}

%% Bibliography and citation style
\bibliographystyle{ACM-Reference-Format}
\citestyle{acmauthoryear}

% Gives you \ie, \eg, \etc
\usepackage[all]{foreign}

% Mathematical symbols
\usepackage{stmaryrd}
\usepackage{mathtools}
\usepackage{textgreek}
\usepackage{centernot}

% Useful for defining commands to use in text mode
\usepackage{xspace}
\newcommand{\lambdalvar}[0]{\ensuremath{\lambda_{\text{lvar}}}\xspace}
\newcommand{\lambdalvish}[0]{\ensuremath{\lambda_{\text{lvish}}}\xspace}
\newcommand{\typedlambdalvar}[0]{\ensuremath{\text{Typed }\lambda_{\text{lvar}}}\xspace}

% Inference rules
\usepackage{mathpartir}

% Theorem environments
\newenvironment{case}[1]{\trivlist \item\relax\textbf{Case}~(#1).}{\endtrivlist}
\newenvironment{subcase}[1]{\trivlist \item\relax\textbf{Subcase}~(#1).}{\endtrivlist}

% Landscape pages using \begin{landscape}\end{landscape}
\usepackage{pdflscape}

% Gotta have a todo command
\usepackage{todonotes}
\usepackage{regexpatch}
\makeatletter
\xpatchcmd{\@todo}{\setkeys{todonotes}{#1}}{\setkeys{todonotes}{inline,#1}}{}{}
\makeatother
\newcommand{\remember}[2][]{\todo[color=pink!40,#1]{#2}}

% Sort macros
% \usepackage[dvipsnames]{xcolor}
\newcommand{\tm}[1]{\ensuremath{{\color[HTML]{E15CFF}#1}}}
\newcommand{\ty}[1]{\ensuremath{{\color[HTML]{6e4cef}#1}}}
\newcommand{\cs}[1]{\ensuremath{{\color[HTML]{009180}#1}}}
\newcommand{\tmty}[2]{\ensuremath{\tm{#1}:\ty{#2}}}

% Definitions
\newcommand{\sep}{\;\mid\;}

% Environments and hyper-environments
\newcommand{\emptyenv}{\cdot}

% Common operations
\newcommand{\subst}[4][]{\ifstrempty{#1}{\ensuremath{#2\{#3/#4\}}}{\ensuremath{#2(\{#3/#4\}\cup#1)}}}
\newcommand{\plug}[2]{\ensuremath{#1[#2]}}
\DeclarePairedDelimiter{\trans}{\lfloor}{\rfloor}
\DeclareMathOperator{\fv}{fv}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\cod}{cod}
\DeclareMathOperator{\incomp}{incomp}

% Namespaces
\usepackage{namespc}

% Namespace for lvars
% Open globally with \usingnamespace{lvar}, locally with \lvar{}
\namespace*{lvar}{
  % types
  \providecommand{\tyunit}[0]{\ensuremath{\ty{\mathbf{1}}}}
  \providecommand{\tyvoid}[0]{\ensuremath{\ty{\mathbf{0}}}}
  \providecommand{\typrod}[2]{\ensuremath{{#1}\mathbin{\ty{\times}}{#2}}}
  \providecommand{\tysum}[2]{\ensuremath{{#1}\mathbin{\ty{+}}{#2}}}
  \providecommand{\tylolli}[2]{\ensuremath{{#1}\mathbin{\ty{\multimap}}{#2}}}
  \providecommand{\tyfun}[2]{\ensuremath{{#1}\mathbin{\ty{\rightarrow}}{#2}}}
  \providecommand{\tyD}[1]{\ensuremath{\ty{\mathcal{D}^{#1}}}}
  \providecommand{\tyL}[2]{\ensuremath{\ty{\mathcal{L}_{#1}^{#2}}}}
  \providecommand{\tyJ}[0]{\ensuremath{\ty{\mathcal{J}}}}
  % terms
  \providecommand{\tmJ}[0]{\ensuremath{\tm{\mathcal{J}}}}
  \providecommand{\andthen}[2]{\ensuremath{#1;#2}}
  \providecommand{\letbind}[3]{\ensuremath{\mathbf{let}\;#1\mathbin{=}#2\;\mathbf{in}\;#3}}
  \providecommand{\pair}[2]{\ensuremath{(#1,#2)}}
  \providecommand{\letpair}[4]{\ensuremath{\letbind{\pair{#1}{#2}}{#3}{#4}}}
  \providecommand{\labinl}[0]{\ensuremath{\mathbf{inl}}}
  \providecommand{\labinr}[0]{\ensuremath{\mathbf{inr}}}
  \providecommand{\inl}[1]{\ensuremath{\labinl\;#1}}
  \providecommand{\inr}[1]{\ensuremath{\labinr\;#1}}
  \providecommand{\casesum}[5]{\ensuremath{\mathbf{case}\;#1\;\left\{\inl{#2}\mapsto{#3};\;\inr{#4}\mapsto{#5}\right\}}}
  \providecommand{\unit}[0]{\ensuremath{()}}
  \providecommand{\letunit}[2]{\ensuremath{\letbind{\unit}{#1}{#2}}}
  \providecommand{\absurd}[1]{\ensuremath{\mathbf{absurd}\;#1}}
  \providecommand{\lvarnew}[0]{\ensuremath{\mathbf{new}}}
  \providecommand{\lvarput}[0]{\ensuremath{\mathbf{put}}}
  \providecommand{\lvarget}[0]{\ensuremath{\mathbf{get}}}
  \providecommand{\lvarfreeze}[0]{\ensuremath{\mathbf{freeze}}}
  \providecommand{\lvarrun}[0]{\ensuremath{\mathbf{withLVar}}}
  \providecommand{\lvarerror}[0]{\ensuremath{\mathbf{error}}}
  \providecommand{\frz}[0]{\ensuremath{\textit{frz}}}
  \providecommand{\true}[0]{\ensuremath{\mathbf{true}}}
  \providecommand{\false}[0]{\ensuremath{\mathbf{false}}}
  \providecommand{\st}[2]{\ensuremath{\langle {#1}, {#2} \rangle}}
  \providecommand{\config}[2]{\ensuremath{\langle {#2}; {#1} \rangle}}
  \providecommand{\error}[0]{\ensuremath{\mathbf{error}}}
  % evaluation contexts
  \providecommand{\hole}[0]{\ensuremath{\square}}
  % typing judgements
  \providecommand{\seq}[4]{\ensuremath{#1\vert#2\vdash\tmty{#3}{#4}}}
  \providecommand{\seqS}[2]{\ensuremath{#1\vdash_{\scriptscriptstyle{S}}\tm{#2}}}
  \providecommand{\seqC}[4]{\ensuremath{#1\vert#2\vdash_{\scriptscriptstyle{C}}\tmty{#3}{#4}}}
  % reduction relations
  \providecommand{\redc}[0]{\ensuremath{\hookrightarrow}}
  \providecommand{\rede}[0]{\ensuremath{\mapsto}}
  % stores
  \providecommand{\storeemp}{\cdot}
  \providecommand{\storeext}[3]{{#1},{#2}\mapsto{#3}}
  \providecommand{\storeupd}[3]{{#1}[{#2}\mapsto{#3}]}
  % bottom and top
  \providecommand{\topD}{{\top}}
  \providecommand{\botD}{{\bot}}
  % join operators
  \providecommand{\sqcupD}{\mathbin{{\color{black}\sqcup}}}
  \providecommand{\sqcupT}{\mathbin{{\color{black}\sqcup}}}
  \providecommand{\sqcupG}{\mathbin{{\color{black}\sqcup}}}
  \providecommand{\sqcupB}{\mathbin{{\color{black}\sqcup}}}
  \providecommand{\sqcupp}{\mathbin{{\color{black}\sqcup}}}
  \providecommand{\sqcupS}{\mathbin{{\color{black}\sqcup}}}
  % partial orders
  \providecommand{\sqsubseteqD}{\mathbin{{\color{black}\sqsubseteq}}}
  \providecommand{\sqsubseteqT}{\mathbin{{\color{black}\sqsubseteq}}}
  \providecommand{\sqsubseteqG}{\mathbin{{\color{black}\sqsubseteq}}}
  \providecommand{\sqsubseteqB}{\mathbin{{\color{black}\sqsubseteq}}}
  \providecommand{\sqsubseteqp}{\mathbin{{\color{black}\sqsubseteq}}}
  \providecommand{\sqsubseteqS}{\mathbin{{\color{black}\sqsubseteq}}}
}{}
\newcommand{\lvar}[1]{\namespace*{lvar}{}{#1}}

% References
\usepackage{varioref}
\usepackage{hyperref}
\usepackage{cleveref}

\begin{document}

%% Author information
%% Contents and number of authors suppressed with 'anonymous'.
%% Each author should be introduced by \author, followed by
%% \authornote (optional), \orcid (optional), \affiliation, and
%% \email.
%% An author may have multiple affiliations and/or emails; repeat the
%% appropriate command.
%% Many elements are not rendered, but should be provided for metadata
%% extraction tools.


%% Title information
\title{Typed LVar}
\subtitle{Deterministic Parallelism with Mutable Shared State}

%% Author information
%% Contents and number of authors suppressed with 'anonymous'.
%% Each author should be introduced by \author, followed by
%% \authornote (optional), \orcid (optional), \affiliation, and
%% \email.
%% An author may have multiple affiliations and/or emails; repeat the
%% appropriate command.
%% Many elements are not rendered, but should be provided for metadata
%% extraction tools.

\author{April Gon\c{c}alves}
\affiliation{
  \institution{Roskilde University}
  %\city{Roskilde}
  \country{Denmark}
}
\email{april@cyberglot.me}

\author{Wen Kokke}
\affiliation{
  %\department{School of Informatics}
  \institution{University of Edinburgh}
  %\streetaddress{10 Crichton Street}
  %\city{Edinburgh}
  %\postcode{EH8 9AB}
  \country{Scotland}
}
\email{wen.kokke@ed.ac.uk}
\affiliation{
  %\department{School of Mathematical and Computer Sciences}
  \institution{Heriot-Watt University}
  %\streetaddress{First Gait}
  %\city{Edinburgh}
  %\postcode{EH14 4AS}
  \country{Scotland}
}
\email{k.kokke@hw.ac.uk}

%% Abstract
%% Note: \begin{abstract}...\end{abstract} environment must come
%% before \maketitle command
\begin{abstract}
Text of abstract \ldots.
\end{abstract}

%% 2012 ACM Computing Classification System (CSS) concepts
%% Generate at 'http://dl.acm.org/ccs/ccs.cfm'.
\begin{CCSXML}
\end{CCSXML}

%% Keywords
%% comma separated list
\keywords{keyword1, keyword2, keyword3}

%% \maketitle
%% Note: \maketitle command must come after title commands, author
%% commands, abstract environment, Computing Classification System
%% environment and commands, and keywords command.
\maketitle

\subfile{introduction}
\subfile{lvar}
\subfile{typed-lvar}

%% Bibliography
\bibliography{main}

\end{document}